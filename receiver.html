<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EchoMeP2P - Comunicação Cruzada</title>
    
    <!-- ✅ SCRIPTS EXTERNOS COM DEFER -->
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js" defer></script>
    <script src="https://lemur-signal.onrender.com/socket.io/socket.io.js" defer></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ... (todo o conteúdo do body permanece IGUAL) ... -->

    <!-- ✅ SCRIPTS LOCAIS COM DEFER -->
    <script src="core/internet-config.js" defer></script>
    <script src="core/webrtc-core.js" defer></script>
    <script src="js/qr-code-utils.js" defer></script>
    <script type="module" src="js/receiver-ui.js" defer></script>
    
    <!-- Script do módulo 3 para tradução automática -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const nextButtonQRCode = document.getElementById('next-button-qrcode');
            if (nextButtonQRCode) {
                nextButtonQRCode.addEventListener('click', function() {
                    document.getElementById('communication-mode').classList.add('active');
                    const userName = document.getElementById('name-input').value || 'Usuário';
                    document.getElementById('user-name-display').textContent = userName;
                });
            }
        });
    </script>
</body>
</html>
